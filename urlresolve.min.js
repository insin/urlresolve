/**
 * urlresolve 0.0.3 - https://github.com/insin/urlresolve
 * MIT Licensed
 */
(function(){function f(b){return k[b]}var k={};f.define=function(b,c){var a={},e={};a.exports=e;c(a,e,f);if("[object Array]"==Object.prototype.toString.call(b))for(var e=0,h=b.length;e<h;e++)k[b[e]]=a.exports;else k[b]=a.exports};f.define(["isomorph/lib/is","./is"],function(b){var c=Object.prototype.toString;b.exports={Array:function(a){return"[object Array]"==c.call(a)},Boolean:function(a){return"[object Boolean]"==c.call(a)},Date:function(a){return"[object Date]"==c.call(a)},Empty:function(a){for(var e in a)return!1;
return!0},Error:function(a){return"[object Error]"==c.call(a)},Function:function(a){return"[object Function]"==c.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==c.call(a)},Object:function(a){return"[object Object]"==c.call(a)},RegExp:function(a){return"[object RegExp]"==c.call(a)},String:function(a){return"[object String]"==c.call(a)}}});f.define("isomorph/lib/func",function(b){var c=Array.prototype.slice;b.exports={bind:function(a,e){var h=null;2<arguments.length&&(h=c.call(arguments,
2));var b=function(){return h?a.apply(e,h.concat(c.call(arguments))):a.apply(e,arguments)};b.func=a;b.boundTo=e;return b}}});f.define("isomorph/lib/format",function(b,c,a){function e(a,e){var b=0;return a.replace(f,function(){return e[b++]})}a("./is");var h=Array.prototype.slice,f=/%s/g,p=/{(\w+)}/g;b.exports={format:function(a){return e(a,h.call(arguments,1))},formatArr:e,formatObj:function(a,e){return a.replace(p,function(a,b){return e[b]})}}});f.define("isomorph/lib/re",function(b,c,a){var e=a("./is");
b.exports={findAll:function(a,b,c){e.RegExp(a)||(a=RegExp(a,c));for(var c=null,i=[];null!==(c=a.exec(b));){switch(c.length){case 1:i.push(c[0]);break;case 2:i.push(c[1]);break;default:i.push(c.slice(1))}if(!a.global)break}return i}}});f.define("urlresolve",function(b,c,a){function e(q,a){this.path=q;this.tried=a||null}function h(a){this.message=a}function f(a,d,g){this.func=a;this.args=d;this.urlName=g}function k(a){a=a.replace(r,"\\$&");this.namedParams=s.findAll(n,a);this.namedParams.length&&(a=
a.replace(n,"([^/]*)"));return a}function i(a,d,g){this.pattern=a;this.regex=RegExp("^"+k.call(this,a)+"$");m.Function(d)?(this.callback=d,this.callbackName=null):(this.callback=null,this.callbackName=d);this.name=g}function j(a,d){this.pattern=a;this.regex=RegExp("^"+k.call(this,a));this.urlPatterns=d;this._reverseLookups=null}function o(a,d,g){if(m.Array(d))return new j(a,d);if(m.String(d)&&!d)throw Error("Empty URL pattern view name not permitted (for pattern "+a+")");return new i(a,d,g)}var m=
a("isomorph/lib/is"),t=a("isomorph/lib/func"),l=a("isomorph/lib/format"),s=a("isomorph/lib/re");e.prototype.toString=function(){return"Resolver404 on "+this.path};h.prototype.toString=function(){return"NoReverseMatch: "+this.message};var n=/:([\w\d]+)/g,r=/[-[\]{}()*+?.,\\^$|#\s]/g;i.prototype.toString=function(){return l.formatObj('[object URLPattern] <{name} "{pattern}">',this)};i.prototype.addContext=function(a){if(a&&this.callbackName)this.callback=t.bind(a[this.callbackName],a)};i.prototype.resolve=
function(a){if(a=this.regex.exec(a))return new f(this.callback,a.slice(1),this.name)};j.prototype.toString=function(){return l.formatObj("[object URLResolver] <{pattern}>",this)};j.prototype._populate=function(){for(var a={},d,g,b=this.urlPatterns.length-1;0<=b;b--)if(d=this.urlPatterns[b],g=d.pattern,d instanceof j){var e=d.getReverseLookups(),c;for(c in e){var f=e[c],h=f[1];a[c]=[d.namedParams.concat(f[0]),g+h]}}else null!==d.name&&(a[d.name]=[d.namedParams,g]);this._reverseLookups=a};j.prototype.getReverseLookups=
function(){null===this._reverseLookups&&this._populate();return this._reverseLookups};j.prototype.resolve=function(a){var d=[],g=this.regex.exec(a);if(g){for(var b=g.slice(1),a=a.substring(g[0].length),c,f=0,h=this.urlPatterns.length;f<h;f++){g=this.urlPatterns[f];try{if(c=g.resolve(a))return c.args=b.concat(c.args),c;d.push([g])}catch(i){if(!(i instanceof e))throw i;var j=i.tried;if(null!==j)for(var k=0,l=j.length;k<l;k++)d.push([g,j[k]]);else d.push([g])}}throw new e(a,d);}throw new e(a);};j.prototype.reverse=
function(a,d){var d=d||[],c=this.getReverseLookups()[a];if(c){var b=c[0],c=c[1];if(d.length!=b.length)throw new h(l.format('URL pattern named "%s" expects %s argument%s, but got %s: [%s]',a,b.length,1==b.length?"":"s",d.length,d.join(", ")));return l.formatArr(c.replace(n,"%s"),d)}throw new h(l.format('Reverse for "%s" with arguments [%s] not found.',a,d.join(", ")));};b.exports={url:o,patterns:function(a){for(var d=slice.call(arguments,1),c=[],b,e=0,f=d.length;e<f;e++)b=d[e],m.Array(b)?(b=o.apply(null,
b),b.addContext(a)):b instanceof i&&b.addContext(a),c.push(b);return c},getResolver:function(a){var b=new j("/",a);return{patterns:a,resolver:b,resolve:function(a){return b.resolve(a)},reverse:function(a,c,e){c=c||[];return(e||"/")+b.reverse(a,c)}}},URLPattern:i,URLResolver:j,ResolverMatch:f,Resolver404:e,NoReverseMatch:h}});window.urlresolve=k.urlresolve})();