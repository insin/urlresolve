/**
 * urlresolve 0.0.6 - https://github.com/insin/urlresolve
 * MIT Licensed
 */
(function(){function h(b){return j[b]}var j={};h.define=function(b,d){var a={},c={};a.exports=c;d(a,c,h);if("[object Array]"==Object.prototype.toString.call(b))for(var c=0,e=b.length;c<e;c++)j[b[c]]=a.exports;else j[b]=a.exports};h.define(["isomorph/is","./is"],function(b){var d=Object.prototype.toString;b.exports={Array:function(a){return"[object Array]"==d.call(a)},Boolean:function(a){return"[object Boolean]"==d.call(a)},Date:function(a){return"[object Date]"==d.call(a)},Empty:function(a){for(var c in a)return!1;
return!0},Error:function(a){return"[object Error]"==d.call(a)},Function:function(a){return"[object Function]"==d.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==d.call(a)},Object:function(a){return"[object Object]"==d.call(a)},RegExp:function(a){return"[object RegExp]"==d.call(a)},String:function(a){return"[object String]"==d.call(a)}}});h.define("isomorph/func",function(b){var d=Array.prototype.slice;b.exports={bind:function(a,c){var e=2<arguments.length?d.call(arguments,2):null,b=
function(){var b=e?e.concat(d.call(arguments)):arguments;return a.apply(c,b)};b.__func__=a;b.__context__=c;return b}}});h.define("isomorph/format",function(b,d,a){function c(a,b){var c=0;return a.replace(h,function(a){return"%%"==a?"%":b[c++]})}a("./is");var e=Array.prototype.slice,h=/%[%s]/g,o=/({{?)(\w+)}/g,g=/\.00$|0$/;b.exports={format:function(a){return c(a,e.call(arguments,1))},formatArr:c,formatObj:function(a,b){return a.replace(o,function(a,c,d){return 2==c.length?a.slice(1):b[d]})},fileSize:function(a,
b){for(var b=Math.min(b||768,1024),c=-1,d="bytes",e=a;e>b&&8>c;)e/=1024,c++;-1<c&&(d="kMGTPEZY".charAt(c)+"B");return e.toFixed(2).replace(g,"")+" "+d}}});h.define("isomorph/re",function(b,d,a){var c=a("./is");b.exports={findAll:function(a,b,d){c.RegExp(a)||(a=RegExp(a,d));for(var d=null,g=[];null!==(d=a.exec(b));){switch(d.length){case 1:g.push(d[0]);break;case 2:g.push(d[1]);break;default:g.push(d.slice(1))}if(!a.global)break}return g}}});h.define("urlresolve",function(b,d,a){function c(a,f){this.path=
a;this.tried=f||null}function e(a){this.message=a}function h(a,f,b){this.func=a;this.args=f;this.urlName=b}function j(a){a=a.replace(q,"\\$&");this.namedParams=r.findAll(m,a);this.namedParams.length&&(a=a.replace(m,"([^/]*)"));return a}function g(a,f,b){this.pattern=a;this.regex=RegExp("^"+j.call(this,a)+"$");l.Function(f)?(this.callback=f,this.callbackName=null):(this.callback=null,this.callbackName=f);this.name=b}function i(a,f){this.pattern=a;this.regex=RegExp("^"+j.call(this,a));this.urlPatterns=
f||[];this._reverseLookups=null}function n(a,f,b){if(l.Array(f))return new i(a,f);if(l.String(f)&&!f)throw Error("Empty URL pattern view name not permitted (for pattern "+a+")");return new g(a,f,b)}var l=a("isomorph/is"),p=a("isomorph/func"),k=a("isomorph/format"),r=a("isomorph/re"),s=Array.prototype.slice;c.prototype.toString=function(){return"Resolver404 on "+this.path};e.prototype.toString=function(){return"NoReverseMatch: "+this.message};var m=/:([\w\d]+)/g,q=/[-[\]{}()*+?.,\\^$|#\s]/g;g.prototype.toString=
function(){return k.formatObj('[object URLPattern] <{name} "{pattern}">',this)};g.prototype.addContext=function(a){a&&this.callbackName&&(this.callback=p.bind(a[this.callbackName],a))};g.prototype.resolve=function(a){if(a=this.regex.exec(a))return new h(this.callback,a.slice(1),this.name)};i.prototype.toString=function(){return k.formatObj("[object URLResolver] <{pattern}>",this)};i.prototype._populate=function(){for(var a={},f,b,d=this.urlPatterns.length-1;0<=d;d--)if(f=this.urlPatterns[d],b=f.pattern,
f instanceof i){var c=f.getReverseLookups(),e;for(e in c){var g=c[e],h=g[1];a[e]=[f.namedParams.concat(g[0]),b+h]}}else null!==f.name&&(a[f.name]=[f.namedParams,b]);this._reverseLookups=a};i.prototype.getReverseLookups=function(){null===this._reverseLookups&&this._populate();return this._reverseLookups};i.prototype.resolve=function(a){var f=[],b=this.regex.exec(a);if(b){for(var d=b.slice(1),a=a.substring(b[0].length),e,g=0,h=this.urlPatterns.length;g<h;g++){b=this.urlPatterns[g];try{if(e=b.resolve(a))return e.args=
d.concat(e.args),e;f.push([b])}catch(i){if(!(i instanceof c))throw i;var j=i.tried;if(null!==j)for(var k=0,l=j.length;k<l;k++)f.push([b,j[k]]);else f.push([b])}}throw new c(a,f);}throw new c(a);};i.prototype.reverse=function(a,b){var b=b||[],d=this.getReverseLookups()[a];if(d){var c=d[0],d=d[1];if(b.length!=c.length)throw new e(k.format('URL pattern named "%s" expects %s argument%s, but got %s: [%s]',a,c.length,1==c.length?"":"s",b.length,b.join(", ")));return k.formatArr(d.replace(m,"%s"),b)}throw new e(k.format('Reverse for "%s" with arguments [%s] not found.',
a,b.join(", ")));};b.exports={version:"0.0.4",url:n,patterns:function(a){for(var b=s.call(arguments,1),d=[],c,e=0,h=b.length;e<h;e++)c=b[e],l.Array(c)?(c=n.apply(null,c),c.addContext(a)):c instanceof g&&c.addContext(a),d.push(c);return d},getResolver:function(a){var b=new i("/",a);return{patterns:a,resolver:b,resolve:function(a){return b.resolve(a)},reverse:function(a,c,d){c=c||[];return(d||"/")+b.reverse(a,c)}}},URLPattern:g,URLResolver:i,ResolverMatch:h,Resolver404:c,NoReverseMatch:e}});window.urlresolve=
j.urlresolve})();