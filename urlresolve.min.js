/**
 * urlresolve 0.0.4 - https://github.com/insin/urlresolve
 * MIT Licensed
 */
(function(){function f(b){return j[b]}var j={};f.define=function(b,c){var a={},d={};a.exports=d;c(a,d,f);if("[object Array]"==Object.prototype.toString.call(b))for(var d=0,g=b.length;d<g;d++)j[b[d]]=a.exports;else j[b]=a.exports};f.define(["isomorph/lib/is","./is"],function(b){var c=Object.prototype.toString;b.exports={Array:function(a){return"[object Array]"==c.call(a)},Boolean:function(a){return"[object Boolean]"==c.call(a)},Date:function(a){return"[object Date]"==c.call(a)},Empty:function(a){for(var d in a)return!1;
return!0},Error:function(a){return"[object Error]"==c.call(a)},Function:function(a){return"[object Function]"==c.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==c.call(a)},Object:function(a){return"[object Object]"==c.call(a)},RegExp:function(a){return"[object RegExp]"==c.call(a)},String:function(a){return"[object String]"==c.call(a)}}});f.define("isomorph/lib/func",function(b){var c=Array.prototype.slice;b.exports={bind:function(a,d){var g=2<arguments.length?c.call(arguments,2):null,
b=function(){var b=g?g.concat(c.call(arguments)):arguments;return a.apply(d,b)};b.__func__=a;b.__context__=d;return b}}});f.define("isomorph/lib/format",function(b,c,a){function d(a,b){var d=0;return a.replace(f,function(a){return"%%"==a?"%":b[d++]})}a("./is");var g=Array.prototype.slice,f=/%[%s]/g,p=/({{?)(\w+)}/g;b.exports={format:function(a){return d(a,g.call(arguments,1))},formatArr:d,formatObj:function(a,b){return a.replace(p,function(a,d,c){return 2==d.length?a.slice(1):b[c]})}}});f.define("isomorph/lib/re",
function(b,c,a){var d=a("./is");b.exports={findAll:function(a,b,c){d.RegExp(a)||(a=RegExp(a,c));for(var c=null,h=[];null!==(c=a.exec(b));){switch(c.length){case 1:h.push(c[0]);break;case 2:h.push(c[1]);break;default:h.push(c.slice(1))}if(!a.global)break}return h}}});f.define("urlresolve",function(b,c,a){function d(a,e){this.path=a;this.tried=e||null}function g(a){this.message=a}function f(a,e,k){this.func=a;this.args=e;this.urlName=k}function j(a){a=a.replace(r,"\\$&");this.namedParams=s.findAll(n,
a);this.namedParams.length&&(a=a.replace(n,"([^/]*)"));return a}function h(a,e,k){this.pattern=a;this.regex=RegExp("^"+j.call(this,a)+"$");m.Function(e)?(this.callback=e,this.callbackName=null):(this.callback=null,this.callbackName=e);this.name=k}function i(a,e){this.pattern=a;this.regex=RegExp("^"+j.call(this,a));this.urlPatterns=e;this._reverseLookups=null}function o(a,e,k){if(m.Array(e))return new i(a,e);if(m.String(e)&&!e)throw Error("Empty URL pattern view name not permitted (for pattern "+a+
")");return new h(a,e,k)}var m=a("isomorph/lib/is"),q=a("isomorph/lib/func"),l=a("isomorph/lib/format"),s=a("isomorph/lib/re"),t=Array.prototype.slice;d.prototype.toString=function(){return"Resolver404 on "+this.path};g.prototype.toString=function(){return"NoReverseMatch: "+this.message};var n=/:([\w\d]+)/g,r=/[-[\]{}()*+?.,\\^$|#\s]/g;h.prototype.toString=function(){return l.formatObj('[object URLPattern] <{name} "{pattern}">',this)};h.prototype.addContext=function(a){if(a&&this.callbackName)this.callback=
q.bind(a[this.callbackName],a)};h.prototype.resolve=function(a){if(a=this.regex.exec(a))return new f(this.callback,a.slice(1),this.name)};i.prototype.toString=function(){return l.formatObj("[object URLResolver] <{pattern}>",this)};i.prototype._populate=function(){for(var a={},e,k,b=this.urlPatterns.length-1;0<=b;b--)if(e=this.urlPatterns[b],k=e.pattern,e instanceof i){var c=e.getReverseLookups(),d;for(d in c){var f=c[d],g=f[1];a[d]=[e.namedParams.concat(f[0]),k+g]}}else null!==e.name&&(a[e.name]=
[e.namedParams,k]);this._reverseLookups=a};i.prototype.getReverseLookups=function(){null===this._reverseLookups&&this._populate();return this._reverseLookups};i.prototype.resolve=function(a){var e=[],b=this.regex.exec(a);if(b){for(var c=b.slice(1),a=a.substring(b[0].length),f,g=0,h=this.urlPatterns.length;g<h;g++){b=this.urlPatterns[g];try{if(f=b.resolve(a))return f.args=c.concat(f.args),f;e.push([b])}catch(i){if(!(i instanceof d))throw i;var j=i.tried;if(null!==j)for(var l=0,m=j.length;l<m;l++)e.push([b,
j[l]]);else e.push([b])}}throw new d(a,e);}throw new d(a);};i.prototype.reverse=function(a,e){var e=e||[],b=this.getReverseLookups()[a];if(b){var c=b[0],b=b[1];if(e.length!=c.length)throw new g(l.format('URL pattern named "%s" expects %s argument%s, but got %s: [%s]',a,c.length,1==c.length?"":"s",e.length,e.join(", ")));return l.formatArr(b.replace(n,"%s"),e)}throw new g(l.format('Reverse for "%s" with arguments [%s] not found.',a,e.join(", ")));};b.exports={version:"0.0.4",url:o,patterns:function(a){for(var b=
t.call(arguments,1),c=[],d,f=0,g=b.length;f<g;f++)d=b[f],m.Array(d)?(d=o.apply(null,d),d.addContext(a)):d instanceof h&&d.addContext(a),c.push(d);return c},getResolver:function(a){var b=new i("/",a);return{patterns:a,resolver:b,resolve:function(a){return b.resolve(a)},reverse:function(a,c,d){c=c||[];return(d||"/")+b.reverse(a,c)}}},URLPattern:h,URLResolver:i,ResolverMatch:f,Resolver404:d,NoReverseMatch:g}});window.urlresolve=j.urlresolve})();